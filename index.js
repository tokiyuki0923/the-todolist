"use strict";

// ãã‚Œãžã‚Œå¿…è¦ãªæƒ…å ±ã‚’å–å¾—
const form1 = document.getElementById("form1");
const form2 = document.getElementById("form2");
const input = document.getElementById("input");
const priority = document.getElementById("priority");
const calendar = document.getElementById("calendar");
const register = document.getElementById("register");
const table = document.getElementById("table"); 
const tr = document.getElementById("tr");
const selected = document.getElementsByClassName("selected");
const allDelete = document.getElementById("allDelete");
const hako = document.getElementsByClassName("hako");





// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
let storage = [];      //ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«é…åˆ—ã¨ã—ã¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®ã€ç©ºã®é…åˆ—ã‚’å®šç¾©
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
document.addEventListener('DOMContentLoaded', () => {            //DOMãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ãŸã³ã«ç™ºå‹•ã™ã‚‹é–¢æ•°
    const getList = JSON.parse(localStorage.getItem("storage")); //ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«æ–‡å­—åˆ—ã¨ã—ã¦ä¿å­˜ã—ã¦ã‚ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è§£å‡ã—ã¦ã€é…åˆ—ã«æˆ»ã™
    if (getList) {                                               //ã‚‚ã—ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã‚Œã°èµ·ã“ã‚‹é–¢æ•°ï¼ˆã¨ã„ã†ã‚ˆã‚Šã€è§£å‡ã•ã‚Œã‚Œã°ç™ºå‹•ã™ã‚‹é–¢æ•°ã‹ãªã€‚è§£å‡ã•ã‚Œãªã‘ã‚Œã°ã€ã“ã®é–¢æ•°ã¯ç™ºå‹•ã—ãªã„ï¼‰
        getList.forEach(todo => {                                //ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«å­˜åœ¨ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãã‚Œãžã‚Œå–ã‚Šå‡ºã—ã€ãã‚Œãžã‚Œã‚’todoã¨ã„ã†å¤‰æ•°ã«å…¥ã‚Œã¦addObjé–¢æ•°ã‚’é©ç”¨ã•ã‚Œã‚‹
            addObj(todo);                                        //ðŸ˜…ä¸å®‰ãªç‚¹ã¨ã—ã¦ã€forEachã¯å¤‰æ•°ã‚’å®šç¾©ã—ã¦ãã‚Œãžã‚Œã‚’ãã®å¤‰æ•°åã¨ã—ã¦é–¢æ•°ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã‹ï¼Ÿã¨ã„ã†ç‚¹ã€‚æ—¥æœ¬èªžé›£ã—ã™ãŽã‚‹ã€‚
        });
    }
});
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
register.addEventListener("click",function(event){               //ç™»éŒ²ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ãŸã³ã«ç™ºå‹•ã™ã‚‹é–¢æ•°
    if(input.value.trim() === ""||calendar.value.trim() === ""){ //ã‚‚ã—ã‚¿ã‚¹ã‚¯åå…¥åŠ›æ¬„ãŒç©ºæ¬„ã ã£ãŸå ´åˆãã‚Œã‹ã€æœŸæ—¥å…¥åŠ›æ¬„ãŒç©ºæ¬„ã ã£ãŸå ´åˆã€
        return;                                                  //ã€Œä½•ã‚‚ã—ãªã„ã€ã‚’è¿”ã™ã€‚ã¤ã¾ã‚Šç™»éŒ²ãƒœã‚¿ãƒ³æŠ¼ã—ã¦ã‚‚ä½•ã‚‚èµ·ã“ã‚‰ãªã„ã€‚ãã—ã¦ãã‚Œä»¥é™ã®é–¢æ•°ã¯å®Ÿè¡Œã•ã‚Œãªã„ã€‚
    }
    event.preventDefault();                                      //ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰æ™®é€šã¯ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã‚‹ãŒãã‚Œã‚’æ­¢ã‚ã‚‹
    addObj();                                                    //addObjé–¢æ•°ã‚’å®Ÿè¡Œ
    save();                                                      //saveé–¢æ•°ã‚’å®Ÿè¡Œ
})
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
form1.addEventListener("submit",function(event){                 //ã‚¿ã‚¹ã‚¯å…¥åŠ›æ¬„ã§Enterã‚’æŠ¼ã•ã‚Œã‚‹åº¦èµ·ã“ã‚‹é–¢æ•°
    event.preventDefault();                                      //æ™®é€šãªã‚‰èµ·ã“ã‚‹ãƒªãƒ­ãƒ¼ãƒ‰ã‚’æ­¢ã‚ã‚‹
    if(input.value.trim() === ""||calendar.value.trim() === ""){ //ã‚‚ã—ã€ã‚¿ã‚¹ã‚¯åå…¥åŠ›æ¬„ãŒç©ºæ¬„ã ã£ãŸå ´åˆãã‚Œã‹ã€æœŸæ—¥å…¥åŠ›æ¬„ãŒç©ºæ¬„ã ã£ãŸå ´åˆã€
        return;                                                  //ã€Œä½•ã‚‚ã—ãªã„ã€ã‚’è¿”ã™ã€‚ã¤ã¾ã‚Šç™»éŒ²ãƒœã‚¿ãƒ³æŠ¼ã—ã¦ã‚‚ä½•ã‚‚èµ·ã“ã‚‰ãªã„ã€‚ãã—ã¦ãã‚Œä»¥é™ã®é–¢æ•°ã¯å®Ÿè¡Œã•ã‚Œãªã„ã€‚
    }
    addObj();                                                    //addObjé–¢æ•°ã‚’å®Ÿè¡Œ
    save();                                                      //saveé–¢æ•°ã‚’å®Ÿè¡Œ
})
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
document.addEventListener("click",function(event){               //HTMLè¦ç´ ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ãŸã³ã«ç™ºå‹•ã™ã‚‹é–¢æ•°
    if(event.target.matches(".hako")){                           //ã‚‚ã—ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸè¦ç´ ãŒã‚¯ãƒ©ã‚¹å"hako"ã‚’æŒã£ã¦ã„ãŸå ´åˆã€ä»¥ä¸‹ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹
        const evetage = event.target;                            //ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸè¦ç´ ã‚’evetageã¨ã„ã†å¤‰æ•°ã«æ ¼ç´ï¼ˆä»Šå›žã®å ´åˆã¯inputã‚¿ã‚°ï¼‰
        const pevetage = evetage.parentElement;                  //ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®è¦ªè¦ç´ ï¼ˆä»Šå›žã®å ´åˆã¯tdã‚¿ã‚°ï¼‰ã‚’pevetageã¨ã„ã†å¤‰æ•°ã«æ ¼ç´ã™ã‚‹
        const ppevetage = pevetage.parentElement;                //tdã‚¿ã‚°ã®è¦ªè¦ç´ ï¼ˆä»Šå›žã®å ´åˆã¯trã‚¿ã‚°ï¼‰ã‚’ppevetageã¨ã„ã†å¤‰æ•°ã«æ ¼ç´
        ppevetage.classList.toggle("selected");                  //ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ï¼ˆinputã‚¿ã‚°ï¼‰ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ãŸã³ã«ã€ãã®å…ˆç¥–è¦ç´ ã§ã‚ã‚‹trã‚¿ã‚°ã«selectedã‚¯ãƒ©ã‚¹ãŒä»˜ä¸Žã•ã‚ŒãŸã‚Šå¤–ã•ã‚ŒãŸã‚Šã™ã‚‹
    }
})
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼




// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
allDelete.addEventListener("click",function(event){              //HTMLè¦ç´ ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ãŸã³ã«ç™ºå‹•ã™ã‚‹é–¢æ•°
    event.preventDefault();                                      //æ™®é€šãªã‚‰èµ·ã“ã‚‹ãƒªãƒ­ãƒ¼ãƒ‰ã‚’æ­¢ã‚ã‚‹
    const selects = document.querySelectorAll(".selected");      //selectedã‚¯ãƒ©ã‚¹ãŒã¤ã„ã¦ã„ã‚‹è¦ç´ ã‚’å…¨ã¦æŒã£ã¦ãã¦selectsã¨ã„ã†å¤‰æ•°ã«æ ¼ç´ã™ã‚‹
    selects.forEach(line =>{                                     //selectsã®ä¸­ã«å…¥ã£ã¦ã„ã‚‹ãã‚Œãžã‚Œã®trã‚¿ã‚°ã‚’ãã‚Œãžã‚Œlineã¨ã„ã†å¤‰æ•°ã«å…¥ã‚Œã¦ä»¥ä¸‹ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹
        line.remove();                                           //lineå¤‰æ•°ã«å…¥ã£ã¦ã„ã‚‹ã‚‚ã®ã‚’å–ã‚Šé™¤ã
    });
    save();                                                      //saveé–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹
});
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
function addObj(todo){                                           //addObjã¨ã„ã†é–¢æ•°ã‚’å®šç¾©ã™ã‚‹ï¼ˆtodoã¨ã„ã†å¤‰æ•°ã«å¯¾ã—ã¦ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ï¼‰
    const task = {};                                             //taskã¨ã„ã†ç©ºã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©ã™ã‚‹
    if (todo) {                                                  //ã‚‚ã—todoï¼ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«å…¥ã£ã¦ã„ãŸã‚¢ã‚¤ãƒ†ãƒ ï¼‰ãŒã‚ã‚Œã°ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹
        task.input = todo.input;                                 //taskã®ä¸­èº«ã®inputãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯todoã®inputãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨åŒã˜ã¨ã™ã‚‹
        task.priority = todo.priority;                           //taskã®ä¸­èº«ã®proiorityãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯todoã®priorityãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨åŒã˜ã¨ã™ã‚‹
        task.limit = todo.limit;                                 //taskã®ä¸­èº«ã®limitãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯todoã®limitãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨åŒã˜ã¨ã™ã‚‹
        task.check = todo.check;                                 //taskã®ä¸­èº«ã®checkãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯todoã®checkãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨åŒã˜ã¨ã™ã‚‹
    } else {                                                     //ã‚‚ã—todoï¼ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«å…¥ã£ã¦ã„ãŸã‚¢ã‚¤ãƒ†ãƒ ï¼‰ãŒãªã‘ã‚Œã°ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹
        task.input = input.value;                                //taskã®ä¸­èº«ã®inputãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯inputã‚¿ã‚°ã«æ›¸ã„ã¦ã‚ã‚‹ã‚‚ã®ã¨åŒã˜ã¨ã™ã‚‹
        task.priority = priority.options[priority.selectedIndex].textContent;//taskã®ä¸­èº«ã®proiorityãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯priorityã®ç¾åœ¨é¸ã°ã‚Œã¦ã„ã‚‹ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã¨åŒã˜ã¨ã™ã‚‹
        task.limit = calendar.value;                             //taskã®ä¸­èº«ã®limitãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯calendarã«æ›¸ã„ã¦ã‚ã‚‹ã‚‚ã®ã¨åŒã˜ã¨ã™ã‚‹
        task.check = false;                                      //taskã®ä¸­èº«ã®checkãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ã€ãã‚Œã¯falseã¨ã™ã‚‹
    }
    const trs = document.createElement("tr");                    //HTMLã«trã‚¿ã‚°ã‚’ä½œã‚‹ã¨ã„ã†åˆå›³ã‚’trsã¨ã™ã‚‹
    table.appendChild(trs);                                      //tableã‚¿ã‚°ã®å­è¦ç´ ã«trsï¼ˆtrã‚¿ã‚°ï¼‰ã‚’ä½œæˆã™ã‚‹
    trs.classList.add("new");                                    //ä½œæˆã—ãŸtrã‚¿ã‚°ã«ã‚¯ãƒ©ã‚¹newã‚’ä»˜ä¸Žã™ã‚‹


    for (const key in task) {                                    //taskã®ä¸­ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£é”ã‚’keyã¨å®šç¾©ã—ã€ä»¥ä¸‹ã®é–¢æ•°ã‚’ç¹°ã‚Šè¿”ã™
        const td = document.createElement("td");                 //HTMLã«tdã‚¿ã‚°ã‚’ä½œæˆã™ã‚‹åˆå›³ã‚’tdã¨ã™ã‚‹
        if (key === "input" || key === "priority" || key === "limit") { //ã‚‚ã—key(ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å)ãŒinputã‹ã€priorityã‹ã€limitã§ã‚ã‚‹ãªã‚‰ã°ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹
            td.classList.add("canEdit");                         //ä½œæˆã—ãŸtdã«ã‚¯ãƒ©ã‚¹ï¼ˆcanEditï¼‰ã‚’ä¸Žãˆã‚‹
        }
        if (key === "check") {                                   //ã‚‚ã—keyï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åï¼‰ãŒcheckãªã‚‰ã°ä»¥ä¸‹ã‚’å®Ÿè¡Œã™ã‚‹
            const checkbox = document.createElement("input");    //HTMLã«inputã‚¿ã‚°ã‚’ä½œã‚‹åˆå›³ã‚’checkboxã¨ã™ã‚‹
            checkbox.setAttribute("type","checkbox");            //checkboxã«typeå±žæ€§checkboxã‚’ä¸Žãˆã‚‹ï¼ˆã“ã‚Œã«ã‚ˆã£ã¦ãŸã ã®inputã‚¿ã‚°ãŒcheckboxã«ãªã‚‹ï¼‰
            checkbox.classList.add("hako");                      //checkboxã«hakoã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚’ä¸Žãˆã‚‹
            td.appendChild(checkbox);                            //ã“ã“ã§åˆã‚ã¦tdã‚¿ã‚°ã®ä¸­ã«checkboxï¼ˆinputã‚¿ã‚°ï¼‰ã‚’ä½œæˆã™ã‚‹
            } else {                                             //ã‚‚ã—keyï¼ˆãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åï¼‰ãŒcheckã§ã¯ãªã‹ã£ãŸã‚‰
            td.textContent = task[key];                          //tdã‚¿ã‚°ã®ä¸­èº«ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’task[key]ã¨ã™ã‚‹ï¼ˆã¤ã¾ã‚Šã€inputã€priorityã€limitã§ã‚ã‚Šã€ãã‚Œã‚‰ã¯ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã‚’æŒã£ã¦ã„ã‚‹ï¼‰
            }
        trs.appendChild(td);                                     //trã‚¿ã‚°ã®ä¸­èº«ã«tdã‚¿ã‚°ã‚’ä½œæˆã™ã‚‹
        }
    if (!todo) {                                                 //ã‚‚ã—ã€todoãŒå­˜åœ¨ã—ãªã‹ã£ãŸã‚‰ï¼ˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä½•ã‚‚ãªã‹ã£ãŸã‚‰ï¼‰
        input.value = "";                                        //inputã‚¿ã‚°ã®ä¸­èº«ã‚’ç©ºã«ã™ã‚‹
        priority.value = "high"                                  //priorityã‚¿ã‚°ã®ä¸­èº«ã‚’highã«ã™ã‚‹ï¼ˆhighã«å‰²ã‚Šå½“ã¦ã¦ã„ã‚‹ã®ã¯ã€Œé«˜ã€ï¼‰
        calendar.value = "";                                     //calendarã®ä¸­èº«ã‚’ç©ºã«ã™ã‚‹
    }



    const editButton = document.createElement("button");         //HTMLè¦ç´ ã«buttonè¦ç´ ã‚’ä½œæˆã™ã‚‹åˆå›³ã‚’editButtonã¨ã™ã‚‹
    editButton.textContent = "ç·¨é›†";                              //ãƒœã‚¿ãƒ³ã®ä¸­ã®ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã‚’ã€Œç·¨é›†ã€ã¨ã™ã‚‹
    editButton.classList.add("editBtn");                         //ç·¨é›†ãƒœã‚¿ãƒ³ã«editButtonã¨ã„ã†ã‚¯ãƒ©ã‚¹ã‚’ä¸Žãˆã‚‹
    const editTd = document.createElement("td");                 //HTMLã«tdã‚¿ã‚°ã‚’ä½œæˆã™ã‚‹åˆå›³ã‚’editTdã¨ã™ã‚‹
    editTd.appendChild(editButton);                              //editTdã‚¿ã‚°ã®ä¸­ã«ã«editButtonã‚’ä½œæˆã™ã‚‹
    trs.appendChild(editTd);                                     //trã‚¿ã‚°ã®ä¸­ã«editTdã‚’ä½œæˆã™ã‚‹
}
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
function save(){                                                 //saveé–¢æ•°ã®ä¸­èº«ã‚’ä»¥ä¸‹ã®ã¨ãŠã‚Šã¨ã™ã‚‹
    const lists = document.getElementsByClassName("new");        //newã¨ã„ã†ã‚¯ãƒ©ã‚¹åã‚’æŒã£ãŸã‚‚ã®é”ã‚’å–å¾—ã—ã¦ãã¦listsã¨ã„ã†å¤‰æ•°ã«æ ¼ç´ã™ã‚‹
    storage =[];                                                 //storageã¨ã„ã†ç©ºã®é…åˆ—ã‚’ç”¨æ„ã™ã‚‹
    Array.from(lists).forEach(list => {                          //listsã‚’ç¬¬äºŒå¼•æ•°ã«å¼•ãæ¸¡ã—ï¼ˆä»Šå›žã®å ´åˆã¯forEachã®å¼•æ•°ã«å¼•ãæ¸¡ã—ï¼‰ã€ãã‚Œã®ä¸­èº«ã‚’listã¨å®šç¾©ã—ãã‚Œãžã‚Œã«ä»¥ä¸‹ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹
        let todo = {                                             //todoã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”¨æ„ã™ã‚‹
            input: list.querySelector("td:nth-child(1)").innerText,//input:listã®ä¸€ã¤ç›®ã®ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã¨ã™ã‚‹
            priority: list.querySelector("td:nth-child(2)").innerText,//priority:listã®äºŒã¤ç›®ã®ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã¨ã™ã‚‹
            limit: list.querySelector("td:nth-child(3)").innerText,//limit:listã®ä¸‰ã¤ç›®ã®ãƒ†ã‚­ã‚¹ãƒˆå†…å®¹ã¨ã™ã‚‹
            check: list.querySelector("td:nth-child(4) input").checked//check:listã®å››ã¤ç›®ãŒãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’èª¿ã¹ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã„ãŸã‚‰trueã€ã•ã‚Œã¦ã„ãªã‹ã£ãŸã‚‰falseã¨ã™ã‚‹
        }
        storage.push(todo);                                      //todoï¼ˆå››ã¤ã®listã‚’æŒã£ã¦ã„ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’storageã¨ã„ã†ç©ºã®é…åˆ—ã«å…¥ã‚Œã‚‹
    });
    localStorage.setItem("storage",JSON.stringify(storage));     //ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«storageã®ä¸­èº«ã‚’æ–‡å­—åˆ—ã«å¤‰æ›´ã—ã¦ã‚»ãƒƒãƒˆã™ã‚‹
}
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
let editing = false;                                             //editingã¨ã„ã†å¤‰æ•°ã¯falseã¨ã™ã‚‹
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼



// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
document.addEventListener("click", function(event) {             //HTMLè¦ç´ ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ãŸã³ã«ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
    if (!editing && event.target.matches(".editBtn")) {          //ã‚‚ã—ã€ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‚ã®ãŒã‚¯ãƒ©ã‚¹editBtnã§ä¸”ã¤falseã§ã¯ãªã‹ã£ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
        editing = true;                                          //editingã¨ã„ã†å¤‰æ•°ã¯trueã¨ã™ã‚‹

        const tr = event.target.closest("tr");                   //
        const tds = tr.querySelectorAll("td.canEdit");           //

        tds.forEach(td => {                                      //
            const oldValue = td.textContent.trim();              //
            const input = document.createElement("input");       //
            input.value = oldValue;                              //
            td.textContent = '';                                 //
            td.appendChild(input);                               //
        });

        const finishEditButton = document.createElement("button");//
        finishEditButton.textContent = "å®Œäº†";                    //
        finishEditButton.classList.add("finishEditBtn");         //
        const editTd = document.createElement("td");             //
        editTd.appendChild(finishEditButton);                    //
        tr.appendChild(editTd);                                  //

        const editButtons = document.querySelectorAll(".editBtn");//
        editButtons.forEach(button => {                          //
            button.disabled = true;                              //
        });
    }

    if (event.target.matches(".finishEditBtn")) {                //
        editing = false;                                         //

        const tr = event.target.closest("tr");                   //
        const tds = tr.querySelectorAll("td.canEdit");           //

        tds.forEach(td => {                                      //
            const newValue = td.querySelector("input").value.trim();//
            td.textContent = newValue;                           //
        });

        event.target.parentElement.remove();                     //
        save();                                                  //

        const editButtons = document.querySelectorAll(".editBtn");//
        editButtons.forEach(button => {                          //
            button.disabled = false;                             //
        });
    }
});
// ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼











/* 
ãœãƒ¼ãƒ¼ãƒ¼ãƒ¼ã‚“ã¶è‡ªåˆ†ã§æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã€‚ãªã‚“ã ã‹ã‚“ã å½¹ã«ç«‹ã£ãŸã€‚ã„ã¤ã‹ã“ã®ã‚³ãƒ¼ãƒ‰ã‚´ãƒŸã ãªã¨ã‹æ€ãˆã¾ã™ã‚ˆã†ã«ã€‚
function addTr(){
    const trs = document.createElement("tr");
    table.appendChild(trs);
    trs.classList.add(aaa);
}

// inputã‚¿ã‚°ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’åŠ ãˆã‚‹ã¨ã„ã†ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
function addText(){
    let text = input.value;
    if(text){
        const td1 = document.createElement("td");
        td1.innerText = text;
        td1.classList.add("toDoList");
        aaa.appendChild(td1);
        input.value = "";
    }
}

// é¸æŠžã•ã‚Œã¦ã„ã‚‹å„ªå…ˆé †ä½ã‚’åŠ ãˆã‚‹ã¨ã„ã†ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
function addPriority(){
    let pri = priority.options[priority.selectedIndex].textContent;
    if(pri){
        const td2 = document.createElement("td");
        td2.innerText = pri;
        td2.classList.add("toDoList");
        aaa.appendChild(td2);
        priority.value = "high"
    }
}

// é¸æŠžã•ã‚Œã¦ã„ã‚‹æ—¥ä»˜ã‚’åŠ ãˆã‚‹ã¨ã„ã†ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
function addDate(){
    let date = calendar.value;
    if(date){
        const td3 = document.createElement("td");
        td3.innerText = date;
        td3.classList.add("toDoList");
        aaa.appendChild(td3);
        calendar.value = ""
    }
}

// ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’åŠ ãˆã‚‹ã¨ã„ã†ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°
function addCheck(){
    const td4 = document.createElement("td");
    aaa.appendChild(td4);
    if(td4){
        let checkBox = td4.appendChild(document.createElement("input"));
        checkBox.setAttribute("type","checkbox");
    }
}



function save(){
    const lists = document.querySelectorAll("toDoList");
    let todolist = [];
    lists.forEach(list =>{
        let todo = {
            text:list
        };
        todolist.push(todo);
    });
    localStorage.setItem("todolist",JSON.stringify(todolist));
} */
